<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="StudyFlow - Inteligentny asystent studenta z transkrypcjƒÖ AI, fiszkami SRS i zarzƒÖdzaniem notatkami">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="StudyFlow">
    <title>StudyFlow - Tw√≥j Inteligentny Asystent</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./frontend/assets/icons/icon-192.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="./frontend/css/main.css?v=20260119-020">
    
    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/idb@8.0.0/build/umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.8/dist/purify.min.js"></script>
    
    <!-- PDF.js Library for PDF extraction -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Configure PDF.js worker
        if (typeof pdfjsLib !== 'undefined') {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        }
    </script>
    
    <!-- Chart.js for statistics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="background-gradient"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">üìö</div>
                <span>StudyFlow</span>
            </div>
            <div class="user-info">
                <button class="theme-toggle" id="theme-toggle" title="Zmie≈Ñ motyw (Ctrl+Shift+T)">
                    <span class="theme-icon theme-icon-dark">üåô</span>
                    <span class="theme-icon theme-icon-light">‚òÄÔ∏è</span>
                </button>
                <div class="avatar">U</div>
                <span id="username">Student</span>
            </div>
        </header>

        <nav>
            <button class="nav-btn active" data-tab="dashboard">üìä Dashboard</button>
            <button class="nav-btn" data-tab="flashcards">üé¥ Fiszki</button>
            <button class="nav-btn" data-tab="lectures">üìñ Wyk≈Çady</button>
            <button class="nav-btn" data-tab="new-lecture">‚ú® Nowy wyk≈Çad</button>
            <button class="nav-btn" data-tab="subjects">üìö Przedmioty</button>
            <button class="nav-btn" data-tab="schedule">üìÖ Plan zajƒôƒá</button>
            <button class="nav-btn" data-tab="settings">‚öôÔ∏è Ustawienia</button>
        </nav>

        <!-- Dashboard -->
        <div class="content active" id="dashboard">
            <!-- Motivational Tip -->
            <div class="tip-widget" id="tip-widget">
                <div class="tip-icon" id="tip-icon">üí°</div>
                <div class="tip-content">
                    <div class="tip-text" id="tip-text">Regularno≈õƒá jest wa≈ºniejsza ni≈º intensywno≈õƒá. 15 minut dziennie daje lepsze efekty ni≈º 2 godziny raz w tygodniu.</div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-action-btn" onclick="switchTab('flashcards'); setTimeout(() => document.getElementById('btn-study-flashcards')?.click(), 100)">
                    <div class="action-icon">üéØ</div>
                    <div class="action-label">Ucz siƒô</div>
                </button>
                <button class="quick-action-btn" onclick="openModal('modal-flashcard')">
                    <div class="action-icon">‚ûï</div>
                    <div class="action-label">Nowa fiszka</div>
                </button>
                <button class="quick-action-btn" onclick="switchTab('new-lecture')">
                    <div class="action-icon">üìù</div>
                    <div class="action-label">Nowy wyk≈Çad</div>
                </button>
                <button class="quick-action-btn" onclick="switchTab('schedule')">
                    <div class="action-icon">üìÖ</div>
                    <div class="action-label">Plan zajƒôƒá</div>
                </button>
            </div>

            <div class="stats-grid">
                <div class="stat-card activity-points-card" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(236, 72, 153, 0.1)); border: 1px solid rgba(168, 85, 247, 0.3);">
                    <div class="stat-value" id="stat-today-points" style="color: var(--accent);">0</div>
                    <div class="stat-label">‚ö° Punkty dzi≈õ</div>
                    <div class="activity-level" id="activity-level" style="font-size: 12px; margin-top: 5px;"></div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-due-today">0</div>
                    <div class="stat-label">Do powt√≥rki dzi≈õ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-flashcards">0</div>
                    <div class="stat-label">Fiszek opanowanych</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-accuracy">0%</div>
                    <div class="stat-label">≈örednia skuteczno≈õƒá</div>
                </div>
                <div class="stat-card streak-card">
                    <div class="stat-value" id="stat-streak">0</div>
                    <div class="stat-label">üî• Dni streak</div>
                </div>
            </div>

            <!-- Due Cards Alert -->
            <div id="due-cards-alert" class="due-cards-alert" style="display: none;">
                <div class="due-cards-content">
                    <div class="due-cards-icon">üìö</div>
                    <div class="due-cards-text">
                        <strong id="due-cards-count">0</strong> fiszek czeka na powt√≥rkƒô!
                    </div>
                    <button class="btn btn-primary" id="btn-start-due-review" style="padding: 10px 20px;">
                        üéØ Zacznij powt√≥rkƒô
                    </button>
                </div>
            </div>

            <!-- Subject Progress -->
            <div class="goals-widget" id="subject-progress-widget">
                <div class="goals-header">
                    <h3 class="goals-title">üìä Postƒôp w przedmiotach</h3>
                </div>
                <div id="subject-progress-list">
                    <!-- Dynamic subject progress bars -->
                </div>
            </div>

            <!-- Study Statistics Charts -->
            <div class="dashboard-charts">
                <div class="chart-card">
                    <h3>üìà Aktywno≈õƒá (ostatnie 7 dni)</h3>
                    <canvas id="activity-chart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>üéØ Skuteczno≈õƒá nauki</h3>
                    <canvas id="accuracy-chart"></canvas>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; font-size: 22px;">üìä Twoja aktywno≈õƒá</h2>
            <div id="recent-activity" style="display: flex; flex-direction: column; gap: 0;">
                <!-- Dynamic content -->
            </div>
        </div>

        <!-- Flashcards -->
        <div class="content" id="flashcards">
            <div class="action-bar">
                <input type="text" class="search-box" id="flashcard-search" placeholder="üîç Szukaj fiszek...">
                <div style="display: flex; gap: 10px;">
                    <button class="btn" id="btn-collapse-all" 
                            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                   border: 1px solid rgba(99, 102, 241, 0.3); 
                                   color: var(--primary); 
                                   padding: 10px 16px;" 
                            title="Zwi≈Ñ wszystkie sekcje">
                        ‚ñ≤ Zwi≈Ñ wszystko
                    </button>
                    <button class="btn" id="btn-expand-all" 
                            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                   border: 1px solid rgba(99, 102, 241, 0.3); 
                                   color: var(--primary); 
                                   padding: 10px 16px;" 
                            title="Rozwi≈Ñ wszystkie sekcje">
                        ‚ñº Rozwi≈Ñ wszystko
                    </button>
                    <button class="btn" id="btn-study-flashcards" 
                            style="background: linear-gradient(135deg, #10b981, #059669); 
                                   border: 1px solid #10b981; 
                                   color: white; 
                                   padding: 10px 20px;
                                   font-weight: 600;
                                   box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);" 
                            title="Rozpocznij sesjƒô nauki fiszek">
                        üéØ Ucz siƒô
                    </button>
                    <button class="btn btn-primary" id="btn-add-flashcard">+ Dodaj fiszkƒô</button>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; font-size: 22px;">Twoje fiszki</h2>
            <div id="flashcards-grid">
                <!-- Dynamic flashcards -->
            </div>
        </div>

        <!-- Study Mode -->
        <div class="content" id="study-mode">
            <div style="margin-bottom: 20px;">
                <button class="btn" id="btn-back-to-flashcards" style="background: var(--bg-card);">
                    ‚Üê Powr√≥t do fiszek
                </button>
            </div>

            <div class="study-container">
                <!-- Subject/Lecture Selection -->
                <div id="study-selection" class="study-step active">
                    <div class="card" style="max-width: 600px; margin: 0 auto; text-align: center;">
                        <h2 style="margin-bottom: 30px; font-size: 28px; color: var(--primary);">
                            üéØ Wybierz materia≈Ç do nauki
                        </h2>
                        
                        <div style="margin-bottom: 30px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">Przedmiot:</label>
                            <select id="study-subject-select" class="form-input" style="width: 100%; padding: 12px;">
                                <option value="">Wybierz przedmiot...</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 30px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">Wyk≈Çad:</label>
                            <select id="study-lecture-select" class="form-input" style="width: 100%; padding: 12px;" disabled>
                                <option value="">Najpierw wybierz przedmiot</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 30px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">Tryb nauki:</label>
                            <div class="study-mode-options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                                <button class="study-mode-btn" data-mode="flashcards">
                                    <div style="font-size: 24px; margin-bottom: 8px;">üé¥</div>
                                    <div style="font-weight: 600;">Fiszki</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Klasyczne przewracanie kart</div>
                                </button>
                                <button class="study-mode-btn" data-mode="quiz">
                                    <div style="font-size: 24px; margin-bottom: 8px;">‚ùì</div>
                                    <div style="font-weight: 600;">Quiz</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Pytania z wieloma odpowiedziami</div>
                                </button>
                                <button class="study-mode-btn" data-mode="cloze">
                                    <div style="font-size: 24px; margin-bottom: 8px;">üî≤</div>
                                    <div style="font-weight: 600;">Cloze</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Uzupe≈Çnianie luk</div>
                                </button>
                                <button class="study-mode-btn" data-mode="memory">
                                    <div style="font-size: 24px; margin-bottom: 8px;">üß†</div>
                                    <div style="font-weight: 600;">Pamiƒôƒá</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Sprawd≈∫ co pamiƒôtasz</div>
                                </button>
                                <button class="study-mode-btn" data-mode="typing">
                                    <div style="font-size: 24px; margin-bottom: 8px;">‚å®Ô∏è</div>
                                    <div style="font-weight: 600;">Pisanie</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Wpisz odpowied≈∫</div>
                                </button>
                                <button class="study-mode-btn difficult-mode" data-mode="difficult">
                                    <div style="font-size: 24px; margin-bottom: 8px;">üî•</div>
                                    <div style="font-weight: 600;">Trudne</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">Fiszki kt√≥re sprawiajƒÖ Ci problem</div>
                                </button>
                            </div>
                        </div>

                        <!-- Difficult flashcards info panel -->
                        <div id="difficult-cards-info" class="difficult-cards-panel" style="display: none;">
                            <div class="difficult-cards-header">
                                <span class="difficult-icon">üî•</span>
                                <span>Tryb trudnych fiszek</span>
                            </div>
                            <p class="difficult-cards-description">
                                Zestaw <strong id="difficult-count">0</strong> fiszek, kt√≥re sprawiajƒÖ Ci najwiƒôkszy problem.
                                Algorytm analizuje ile razy musisz powtarzaƒá rundy zanim oznaczysz fiszkƒô jako "umiem".
                            </p>
                            <div class="difficult-stats" id="difficult-stats">
                                <!-- Stats will be loaded dynamically -->
                            </div>
                        </div>

                        <button class="btn btn-primary" id="btn-start-study" style="font-size: 16px; padding: 15px 30px;" disabled>
                            Rozpocznij naukƒô
                        </button>
                    </div>
                </div>

                <!-- Study Session -->
                <div id="study-session" class="study-step">
                    <!-- Dynamic study content will be loaded here -->
                </div>

                <!-- Study Results -->
                <div id="study-results" class="study-step">
                    <!-- Results will be shown here -->
                </div>
            </div>
        </div>

        <!-- Lectures -->
        <div class="content" id="lectures">
            <div class="action-bar">
                <input type="text" class="search-box" id="lecture-search" placeholder="üîç Szukaj wyk≈Çad√≥w...">
                <div style="display: flex; gap: 10px;">
                    <button class="btn" id="btn-collapse-all-lectures" 
                            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                   border: 1px solid rgba(99, 102, 241, 0.3); 
                                   color: var(--primary); 
                                   padding: 10px 16px;" 
                            title="Zwi≈Ñ wszystkie przedmioty">
                        ‚ñ≤ Zwi≈Ñ wszystko
                    </button>
                    <button class="btn" id="btn-expand-all-lectures" 
                            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                   border: 1px solid rgba(99, 102, 241, 0.3); 
                                   color: var(--primary); 
                                   padding: 10px 16px;" 
                            title="Rozwi≈Ñ wszystkie przedmioty">
                        ‚ñº Rozwi≈Ñ wszystko
                    </button>
                    <button class="btn btn-primary" id="btn-add-lecture">+ Dodaj wyk≈Çad</button>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; font-size: 22px;">Twoje wyk≈Çady</h2>
            <div id="lectures-list">
                <!-- Dynamic lectures -->
            </div>
        </div>

        <!-- Lecture View -->
        <div class="content" id="lecture-view">
            <div style="margin-bottom: 20px;">
                <button class="btn" id="btn-back-to-lectures" style="background: var(--bg-card);">
                    ‚Üê Powr√≥t do wyk≈Çad√≥w
                </button>
            </div>

            <div style="max-width: 1200px; margin: 0 auto;">
                <div style="margin-bottom: 30px;">
                    <h1 id="lecture-view-title" style="font-size: 32px; margin-bottom: 10px;">Tytu≈Ç wyk≈Çadu</h1>
                    <p id="lecture-view-meta" style="color: var(--text-secondary);">Przedmiot ‚Ä¢ Data</p>
                </div>

                <!-- Tabs -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid var(--bg-card); flex-wrap: wrap;">
                    <button class="tab-btn active" data-lecture-tab="notes">üìù Notatki</button>
                    <button class="tab-btn" data-lecture-tab="detailed">üìã Szczeg√≥≈Çowa</button>
                    <button class="tab-btn" data-lecture-tab="short">üìÑ Kr√≥tka</button>
                    <button class="tab-btn" data-lecture-tab="keypoints">üéØ Kluczowe</button>
                    <button class="tab-btn" data-lecture-tab="flashcards">üé¥ Fiszki</button>
                    <button class="tab-btn" data-lecture-tab="cloze">üî≤ Cloze</button>
                    <button class="tab-btn" data-lecture-tab="quiz">üìù Quiz</button>
                    <button class="tab-btn" data-lecture-tab="exam">üéì Kolokwium</button>
                    <button class="tab-btn" data-lecture-tab="transcription">üìÑ Transkrypcja</button>
                </div>

                <!-- Tab Content: Notes -->
                <div class="lecture-tab-content active" id="lecture-tab-notes">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Notatki z wyk≈Çadu</h3>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-primary" id="btn-generate-notes">
                                    ‚ú® Generuj z AI
                                </button>
                                <button class="btn btn-secondary" id="btn-generate-notes-with-fact-check" title="Generuj notatki z weryfikacjƒÖ fakt√≥w">
                                    üîç‚ú® Z weryfikacjƒÖ fakt√≥w
                                </button>
                            </div>
                        </div>
                        <div id="lecture-notes-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak notatek. U≈ºyj przycisku "Generuj z AI" aby stworzyƒá notatki automatycznie.
                            </p>
                        </div>
                        <div class="mark-read-container" id="mark-notes-read" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center;">
                            <button class="btn btn-success mark-read-btn" onclick="markContentAsRead('notes')">
                                ‚úÖ Przeczytane (+8 pkt)
                            </button>
                            <span class="read-status" style="display: none; color: var(--success); margin-left: 10px;">‚úì Oznaczono jako przeczytane!</span>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Flashcards -->
                <div class="lecture-tab-content" id="lecture-tab-flashcards">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Fiszki do nauki</h3>
                            <button class="btn btn-primary" id="btn-generate-flashcards">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <div id="lecture-flashcards-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak fiszek. U≈ºyj przycisku "Generuj z AI" aby stworzyƒá fiszki automatycznie.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Detailed Note -->
                <div class="lecture-tab-content" id="lecture-tab-detailed">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Szczeg√≥≈Çowa notatka</h3>
                            <button class="btn btn-primary" id="btn-generate-detailed">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <div id="lecture-detailed-content" class="markdown-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak szczeg√≥≈Çowej notatki. U≈ºyj przycisku "Generuj z AI".
                            </p>
                        </div>
                        <div class="mark-read-container" id="mark-detailed-read" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center;">
                            <button class="btn btn-success mark-read-btn" onclick="markContentAsRead('detailed')">
                                ‚úÖ Przeczytane (+8 pkt)
                            </button>
                            <span class="read-status" style="display: none; color: var(--success); margin-left: 10px;">‚úì Oznaczono jako przeczytane!</span>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Short Note -->
                <div class="lecture-tab-content" id="lecture-tab-short">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Kr√≥tka notatka</h3>
                            <button class="btn btn-primary" id="btn-generate-short">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <div id="lecture-short-content" class="markdown-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak kr√≥tkiej notatki. U≈ºyj przycisku "Generuj z AI".
                            </p>
                        </div>
                        <div class="mark-read-container" id="mark-short-read" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center;">
                            <button class="btn btn-success mark-read-btn" onclick="markContentAsRead('short')">
                                ‚úÖ Przeczytane (+8 pkt)
                            </button>
                            <span class="read-status" style="display: none; color: var(--success); margin-left: 10px;">‚úì Oznaczono jako przeczytane!</span>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Key Points -->
                <div class="lecture-tab-content" id="lecture-tab-keypoints">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Kluczowe punkty</h3>
                            <button class="btn btn-primary" id="btn-generate-keypoints">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <div id="lecture-keypoints-content" class="markdown-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak kluczowych punkt√≥w. U≈ºyj przycisku "Generuj z AI".
                            </p>
                        </div>
                        <div class="mark-read-container" id="mark-keypoints-read" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center;">
                            <button class="btn btn-success mark-read-btn" onclick="markContentAsRead('keypoints')">
                                ‚úÖ Przeczytane (+8 pkt)
                            </button>
                            <span class="read-status" style="display: none; color: var(--success); margin-left: 10px;">‚úì Oznaczono jako przeczytane!</span>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Quiz -->
                <div class="lecture-tab-content" id="lecture-tab-quiz">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Quiz</h3>
                            <button class="btn btn-primary" id="btn-generate-quiz">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <div id="lecture-quiz-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak quizu. U≈ºyj przycisku "Generuj z AI" aby stworzyƒá quiz automatycznie.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Cloze Flashcards -->
                <div class="lecture-tab-content" id="lecture-tab-cloze">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>üî≤ Fiszki Cloze (z lukami)</h3>
                            <button class="btn btn-primary" id="btn-generate-cloze">
                                ‚ú® Generuj z AI
                            </button>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 20px;">
                            Fiszki typu Cloze to zdania z ukrytymi fragmentami, kt√≥re musisz uzupe≈Çniƒá. 
                            Idealne do nauki wzor√≥w, definicji i termin√≥w.
                        </p>
                        <div id="lecture-cloze-content" style="min-height: 200px;">
                            <p style="color: var(--text-secondary); text-align: center; padding: 40px;">
                                Brak fiszek Cloze. U≈ºyj przycisku "Generuj z AI" aby stworzyƒá fiszki z lukami.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Exam/Kolokwium -->
                <div class="lecture-tab-content" id="lecture-tab-exam">
                    <div class="card" style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>üéì Wymagania na kolokwium</h3>
                            <button class="btn" id="btn-save-exam-requirements" style="background: var(--primary); color: white;">
                                üíæ Zapisz
                            </button>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;">
                            üìù Wpisz tutaj informacje od profesora o tym, co bƒôdzie wymagane na kolokwium/egzaminie.
                            AI u≈ºyje tych informacji do wygenerowania materia≈Ç√≥w skupionych tylko na wymaganych tematach.
                        </p>
                        <textarea id="exam-requirements-input" class="search-box" rows="6" 
                                  placeholder="Np. Na kolokwium bƒôdƒÖ: definicje z rozdzia≈Çu 3, wzory na energiƒô kinetycznƒÖ i potencjalnƒÖ, twierdzenie Pitagorasa, zadania z obliczaniem pola ko≈Ça..."
                                  style="width: 100%; font-size: 14px; line-height: 1.6;"></textarea>
                        <div style="margin-top: 10px; padding: 12px; background: var(--bg-hover); border-radius: 8px; border-left: 3px solid var(--primary);">
                            <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">
                                üí° <strong>Wskaz√≥wka:</strong> Im dok≈Çadniej opiszesz wymagania (tematy, rozdzia≈Çy, typy zada≈Ñ), 
                                tym lepiej AI dopasuje materia≈Çy do nauki.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Exam Materials Generation -->
                    <div class="card" style="margin-bottom: 20px;">
                        <h3 style="margin-bottom: 20px;">‚ú® Generuj materia≈Çy na kolokwium</h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 20px;">
                            Na podstawie wymaga≈Ñ i transkrypcji wyk≈Çadu AI wygeneruje materia≈Çy ukierunkowane na kolokwium.
                        </p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <button class="btn exam-gen-btn" id="btn-generate-exam-summary" 
                                    style="padding: 20px; background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(168, 85, 247, 0.15)); border: 2px solid var(--primary); border-radius: 12px; text-align: left;">
                                <div style="font-size: 24px; margin-bottom: 8px;">üìã</div>
                                <div style="font-weight: 600; margin-bottom: 4px;">Podsumowanie</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Skondensowane informacje tylko z wymaganych temat√≥w</div>
                            </button>
                            <button class="btn exam-gen-btn" id="btn-generate-exam-flashcards"
                                    style="padding: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15)); border: 2px solid #10b981; border-radius: 12px; text-align: left;">
                                <div style="font-size: 24px; margin-bottom: 8px;">üé¥</div>
                                <div style="font-weight: 600; margin-bottom: 4px;">Fiszki na kolokwium</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Fiszki tylko z materia≈Çu wymaganego na egzamin</div>
                            </button>
                            <button class="btn exam-gen-btn" id="btn-generate-exam-quiz"
                                    style="padding: 20px; background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(234, 88, 12, 0.15)); border: 2px solid #f97316; border-radius: 12px; text-align: left;">
                                <div style="font-size: 24px; margin-bottom: 8px;">‚ùì</div>
                                <div style="font-weight: 600; margin-bottom: 4px;">Quiz egzaminacyjny</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Pytania w stylu egzaminacyjnym</div>
                            </button>
                            <button class="btn exam-gen-btn" id="btn-generate-exam-cheatsheet"
                                    style="padding: 20px; background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15)); border: 2px solid #ef4444; border-radius: 12px; text-align: left;">
                                <div style="font-size: 24px; margin-bottom: 8px;">üìë</div>
                                <div style="font-weight: 600; margin-bottom: 4px;">≈öciƒÖgawka</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Wszystkie wzory i definicje w jednym miejscu</div>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Generated Exam Materials -->
                    <div class="card" id="exam-materials-container" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 id="exam-materials-title">üìö Materia≈Çy na kolokwium</h3>
                            <button class="btn" id="btn-copy-exam-materials" style="background: var(--bg-card);">
                                üìã Kopiuj
                            </button>
                        </div>
                        <div id="exam-materials-content" class="markdown-content" style="min-height: 200px;">
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Transcription -->
                <div class="lecture-tab-content" id="lecture-tab-transcription">
                    <div class="card">
                        <h3 style="margin-bottom: 20px;">Transkrypcja nagrania</h3>
                        <div id="lecture-transcription-content" style="white-space: pre-wrap; font-family: monospace; background: var(--bg-dark); padding: 20px; border-radius: 8px; min-height: 200px;">
                            <p style="color: var(--text-secondary);">Brak transkrypcji</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Lecture -->
        <div class="content" id="new-lecture">
            <h2 style="margin-bottom: 30px; font-size: 28px;">‚ú® Utw√≥rz nowy wyk≈Çad</h2>
            
            <div class="card" style="max-width: 800px; margin: 0 auto;">
                <form id="new-lecture-form">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">üìö Przedmiot</label>
                        <select id="lecture-subject" class="search-box" required style="width: 100%;">
                            <option value="">Wybierz przedmiot...</option>
                        </select>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            Nie masz przedmiotu? <a href="#" id="link-to-subjects" style="color: var(--primary); cursor: pointer;">Utw√≥rz nowy przedmiot ‚Üí</a>
                        </p>
                    </div>

                    <!-- Lecture title - always visible -->
                    <div id="lecture-title-section" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">
                            üìù Tytu≈Ç wyk≈Çadu
                        </label>
                        <input type="text" id="lecture-title" class="search-box" 
                               placeholder="Wprowad≈∫ tytu≈Ç lub zostaw puste (AI wygeneruje automatycznie)" 
                               style="width: 100%;">
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            üí° Je≈õli zostawisz puste, AI wygeneruje tytu≈Ç z transkrypcji lub notatek
                        </p>
                    </div>

                    <!-- Wyb√≥r ≈∫r√≥d≈Ça materia≈Çu -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 12px; font-weight: 600;">üìö ≈πr√≥d≈Ço materia≈Çu</label>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <button type="button" class="btn source-selector active" data-source="audio" 
                                    style="flex: 1; background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(168, 85, 247, 0.2)); 
                                           border: 2px solid var(--primary); color: var(--primary);">
                                üé§ Nagranie audio
                            </button>
                            <button type="button" class="btn source-selector" data-source="document"
                                    style="flex: 1; background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                           border: 1px solid rgba(99, 102, 241, 0.3); color: var(--primary);">
                                üìÑ Dokument (PDF/PPT)
                            </button>
                        </div>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px;">
                            üí° <strong>Wskaz√≥wka:</strong> Kliknij przycisk powy≈ºej, aby wybraƒá ≈∫r√≥d≈Ço materia≈Çu wyk≈Çadu
                        </p>
                        
                        <!-- Audio Section -->
                        <div id="audio-source-section" class="source-section">
                            <div style="display: flex; gap: 10px;">
                                <button type="button" class="btn btn-primary" id="btn-start-recording">
                                    üé§ Rozpocznij nagrywanie
                                </button>
                                <button type="button" class="btn" id="btn-upload-audio" 
                                        style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1)); 
                                               border: 1px solid rgba(99, 102, 241, 0.3); 
                                               color: var(--primary);">
                                    üìÅ Wgraj plik audio
                                </button>
                                <input type="file" id="audio-file-input" accept="audio/*" style="display: none;">
                            </div>
                            <div id="recording-status" style="margin-top: 10px; display: none;">
                                <span style="color: var(--accent);">‚óè Nagrywanie...</span>
                                <button type="button" class="btn" id="btn-stop-recording" style="background: var(--accent); color: white;">
                                    ‚èπ Zatrzymaj
                                </button>
                            </div>
                        </div>
                        
                        <!-- Document Section -->
                        <div id="document-source-section" class="source-section" style="display: none;">
                            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 12px;">
                                üìÑ Wybierz plik PDF lub PowerPoint, aby wyekstrahowaƒá tre≈õƒá
                            </p>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <!-- Firefox-compatible file upload using labels -->
                                <label for="pdf-file-input" class="btn btn-primary" id="btn-upload-pdf-label"
                                       style="background: linear-gradient(135deg, #e74c3c, #c0392b); cursor: pointer; margin: 0;">
                                    üìï Wgraj PDF
                                </label>
                                <input type="file" id="pdf-file-input" accept=".pdf" style="display: none;">
                                
                                <label for="ppt-file-input" class="btn btn-primary" id="btn-upload-ppt-label"
                                       style="background: linear-gradient(135deg, #d35400, #e67e22); cursor: pointer; margin: 0;">
                                    üìä Wgraj PowerPoint
                                </label>
                                <input type="file" id="ppt-file-input" accept=".ppt,.pptx" style="display: none;">
                                
                                <!-- Legacy button approach (hidden, kept for compatibility) -->
                                <button type="button" class="btn btn-primary" id="btn-upload-pdf" 
                                        style="display: none; background: linear-gradient(135deg, #e74c3c, #c0392b);">
                                    üìï Wgraj PDF
                                </button>
                                <button type="button" class="btn btn-primary" id="btn-upload-ppt" 
                                        style="display: none; background: linear-gradient(135deg, #d35400, #e67e22);">
                                    üìä Wgraj PowerPoint
                                </button>
                                <input type="file" id="document-file-input" accept=".pdf,.ppt,.pptx" style="display: none;">
                            </div>
                            <div id="document-status" style="margin-top: 10px; display: none;">
                                <div style="padding: 12px; background: var(--bg-hover); border-radius: 8px; border-left: 4px solid var(--primary);">
                                    <p style="margin: 0; color: var(--primary); font-weight: 600;">
                                        <span id="document-file-name">üìÑ Plik wgrany</span>
                                    </p>
                                    <p style="margin: 4px 0 0 0; font-size: 13px; color: var(--text-secondary);">
                                        Przetwarzanie...
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;" id="transcription-section" style="display: none;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">
                            <span id="content-label">Transkrypcja</span>
                        </label>
                        <div id="transcription-progress" style="margin-bottom: 10px; display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="transcription-progress-bar" style="width: 0%"></div>
                            </div>
                            <p style="text-align: center; margin-top: 8px; color: var(--text-secondary);" id="progress-text">
                                Przetwarzanie...
                            </p>
                        </div>
                        <textarea id="lecture-transcription" class="search-box" rows="10" 
                                  placeholder="Tre≈õƒá pojawi siƒô tutaj..." 
                                  style="width: 100%; font-family: monospace;"></textarea>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">üìù Notatki (opcjonalne)</label>
                        <textarea id="lecture-notes" class="search-box" rows="6" 
                                  placeholder="Mo≈ºesz dodaƒá w≈Çasne notatki lub zostawiƒá puste - AI wygeneruje je p√≥≈∫niej z transkrypcji..." 
                                  style="width: 100%;"></textarea>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            üí° Po zapisaniu mo≈ºesz u≈ºyƒá AI do automatycznego generowania notatek, fiszek i quiz√≥w
                        </p>
                    </div>

                    <div style="display: flex; gap: 10px; justify-content: flex-end; align-items: center;">
                        <span id="save-status" style="font-size: 13px; color: var(--text-secondary); display: none;"></span>
                        <button type="button" class="btn" id="btn-cancel-lecture" 
                                style="background: var(--bg-card);">
                            ‚úñ Anuluj
                        </button>
                        <button type="submit" class="btn btn-primary" id="btn-save-lecture">
                            üíæ Zapisz wyk≈Çad
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Subjects -->
        <div class="content" id="subjects">
            <div class="action-bar">
                <input type="text" class="search-box" id="subject-search" placeholder="üîç Szukaj przedmiot√≥w...">
                <button class="btn btn-primary" id="btn-add-subject">+ Dodaj przedmiot</button>
            </div>

            <h2 style="margin-bottom: 20px; font-size: 22px;">Twoje przedmioty</h2>
            <div class="grid" id="subjects-grid">
                <!-- Dynamic subjects -->
            </div>
        </div>

        <!-- Schedule -->
        <div class="content" id="schedule">
            <div class="action-bar">
                <button class="btn btn-primary" id="btn-add-schedule">+ Dodaj zajƒôcia</button>
            </div>

            <h2 style="margin-bottom: 20px; font-size: 22px;">üìÖ Plan zajƒôƒá</h2>
            
            <!-- Current time display -->
            <div id="current-time-display" style="
                background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
                border: 1px solid rgba(99, 102, 241, 0.3);
                border-radius: 12px;
                padding: 12px 20px;
                margin-bottom: 20px;
                text-align: center;
                font-weight: 600;
                color: var(--primary);
            ">
                <span id="current-date-time">≈Åadowanie...</span>
            </div>
            
            <!-- Schedule Grid Container -->
            <div class="card" style="padding: 0; overflow: hidden;">
                <div id="schedule-view" style="overflow-x: auto;">
                    <!-- Dynamic schedule grid will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div class="content" id="settings">
            <h2 style="margin-bottom: 30px; font-size: 28px;">‚öôÔ∏è Ustawienia</h2>
            
            <div style="max-width: 800px; margin: 0 auto;">
                <!-- AI Provider Settings -->
                <div class="card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">ü§ñ Ustawienia AI</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Provider AI</label>
                        <select id="setting-ai-provider" class="search-box" style="width: 100%;">
                            <option value="ollama">üñ•Ô∏è Ollama (lokalny)</option>
                            <option value="gemini">‚òÅÔ∏è Google Gemini Pro (API)</option>
                        </select>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            Wybierz, czy u≈ºywaƒá lokalnego modelu czy chmurowego API Google
                        </p>
                    </div>
                    
                    <!-- Ustawienia Ollama -->
                    <div id="ollama-settings" style="margin-top: 15px; padding: 15px; background: var(--bg-hover); border-radius: 8px; border-left: 3px solid var(--primary);">
                        <h4 style="margin-bottom: 12px; font-size: 14px; color: var(--text-secondary);">üñ•Ô∏è Ustawienia Ollama</h4>
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Model Ollama</label>
                            <select id="setting-ollama-model" class="search-box" style="width: 100%;">
                                <option value="qwen2.5:14b">Qwen 2.5 14B (zalecany)</option>
                                <option value="qwen2.5:7b">Qwen 2.5 7B (szybszy)</option>
                                <option value="llama3.1:8b">Llama 3.1 8B</option>
                                <option value="mistral:7b">Mistral 7B</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Ustawienia Gemini -->
                    <div id="gemini-settings" style="display: none; margin-top: 15px; padding: 15px; background: var(--bg-hover); border-radius: 8px; border-left: 3px solid #4285f4;">
                        <h4 style="margin-bottom: 12px; font-size: 14px; color: var(--text-secondary);">‚òÅÔ∏è Ustawienia Gemini</h4>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Klucz API Gemini</label>
                            <input type="password" id="setting-gemini-key" class="search-box" 
                                   placeholder="AIzaSy..." style="width: 100%;">
                            <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                Pobierz klucz z <a href="https://aistudio.google.com/apikey" target="_blank" style="color: var(--primary);">Google AI Studio ‚Üí</a>
                            </p>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Model Gemini</label>
                            <select id="setting-gemini-model" class="search-box" style="width: 100%;">
                                <option value="gemini-3-pro-preview">Gemini 3 Pro Preview (najnowszy)</option>
                                <option value="gemini-2.5-pro-preview-06-05">Gemini 2.5 Pro Preview</option>
                                <option value="gemini-2.5-flash-preview-05-20">Gemini 2.5 Flash Preview</option>
                                <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            </select>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                Pro = lepsza jako≈õƒá notatek, Flash = szybszy i ta≈Ñszy
                            </p>
                        </div>
                        
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button type="button" id="btn-test-gemini" class="btn" 
                                    style="background: #4285f4; color: white;">
                                üîå Testuj po≈ÇƒÖczenie
                            </button>
                            <span id="gemini-status" style="font-size: 14px;"></span>
                        </div>
                    </div>
                </div>

                <!-- Whisper Settings -->
                <div class="card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">üé§ Transkrypcja (Whisper)</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Model</label>
                        <select id="setting-whisper-model" class="search-box" style="width: 100%;">
                            <option value="tiny">Tiny (szybki, 75MB)</option>
                            <option value="base" selected>Base (optymalny, 142MB)</option>
                            <option value="small">Small (dok≈Çadny, 466MB)</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Jƒôzyk</label>
                        <select id="setting-whisper-language" class="search-box" style="width: 100%;">
                            <option value="pl">Polski</option>
                            <option value="en">Angielski</option>
                            <option value="auto">Auto-detect</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Backend URL</label>
                        <input type="text" id="setting-backend-url" class="search-box" 
                               value="http://localhost:3001" style="width: 100%;">
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 8px; margin-bottom: 12px;">
                            ‚ö†Ô∏è <strong>Backend musi byƒá uruchomiony!</strong>
                        </p>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button type="button" id="btn-check-backend" class="btn" 
                                    style="background: var(--primary); color: white;">
                                üîç Sprawd≈∫ backend
                            </button>
                            <span id="backend-status" style="font-size: 14px;"></span>
                        </div>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 12px; padding: 12px; background: var(--bg-hover); border-radius: 8px;">
                            <strong>üìù Jak uruchomiƒá backend:</strong><br>
                            Otw√≥rz nowy terminal i wpisz: <code style="background: var(--bg-dark); padding: 2px 6px; border-radius: 4px; color: var(--primary);">npm run server</code>
                        </p>
                    </div>
                </div>

                <!-- GitHub Settings -->
                <div class="card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">üîÑ Synchronizacja GitHub</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Repository (owner/repo)</label>
                        <input type="text" id="setting-github-repo" class="search-box" 
                               placeholder="np. username/my-notes" style="width: 100%;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Personal Access Token</label>
                        <input type="password" id="setting-github-token" class="search-box" 
                               placeholder="ghp_..." style="width: 100%;">
                        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            <a href="https://github.com/settings/tokens" target="_blank" style="color: var(--primary);">
                                Stw√≥rz token na GitHub ‚Üí
                            </a>
                        </p>
                    </div>

                    <div style="margin-bottom: 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Branch</label>
                        <input type="text" id="setting-github-branch" class="search-box" 
                               value="main" style="width: 100%;">
                    </div>
                </div>

                <!-- User Settings -->
                <div class="card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">üë§ Profil</h3>
                    
                    <div style="margin-bottom: 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Nazwa u≈ºytkownika</label>
                        <input type="text" id="setting-username" class="search-box" 
                               placeholder="Twoje imiƒô" style="width: 100%;">
                    </div>
                </div>

                <!-- Data Management -->
                <div class="card" style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">üíæ ZarzƒÖdzanie danymi</h3>
                    
                    <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 14px;">
                        Eksportuj wszystkie dane (wyk≈Çady, notatki, fiszki, przedmioty) do pliku JSON lub zaimportuj dane z kopii zapasowej.
                    </p>

                    <!-- Statistics -->
                    <div id="data-statistics" style="margin-bottom: 20px; padding: 15px; background: var(--bg-hover); border-radius: 8px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="stat-subjects">-</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Przedmioty</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="stat-lectures">-</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Wyk≈Çady</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="stat-flashcards">-</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Fiszki</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="stat-notes">-</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Notatki</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button type="button" class="btn" id="btn-export-data" 
                                style="background: var(--primary); color: white; width: 100%; justify-content: center;">
                            üì§ Eksportuj wszystkie dane
                        </button>
                        
                        <button type="button" class="btn" id="btn-import-data" 
                                style="background: var(--bg-hover); color: var(--text); width: 100%; justify-content: center;">
                            üì• Importuj dane z pliku
                        </button>
                        <input type="file" id="import-data-file" accept=".json" style="display: none;">
                        
                        <p style="color: var(--text-secondary); margin-top: 5px; font-size: 13px;">
                            üí° Dane sƒÖ przechowywane lokalnie w przeglƒÖdarce. Eksportuj regularnie kopie zapasowe!
                        </p>
                    </div>
                </div>

                <!-- Danger Zone -->
                <div class="card" style="margin-bottom: 20px; border: 2px solid var(--accent);">
                    <h3 style="margin-bottom: 15px; color: var(--accent);">‚ö†Ô∏è Strefa niebezpieczna</h3>
                    
                    <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 14px;">
                        Te operacje sƒÖ nieodwracalne i usuwajƒÖ wszystkie dane z aplikacji.
                    </p>
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button type="button" class="btn" id="btn-clear-lectures" 
                                style="background: var(--accent)22; color: var(--accent); width: 100%; justify-content: center;">
                            üóëÔ∏è Usu≈Ñ wszystkie wyk≈Çady
                        </button>
                        
                        <button type="button" class="btn" id="btn-clear-flashcards" 
                                style="background: var(--accent)22; color: var(--accent); width: 100%; justify-content: center;">
                            üóëÔ∏è Usu≈Ñ wszystkie fiszki
                        </button>
                        
                        <button type="button" class="btn" id="btn-clear-schedule" 
                                style="background: var(--accent)22; color: var(--accent); width: 100%; justify-content: center;">
                            üóëÔ∏è Usu≈Ñ ca≈Çy plan zajƒôƒá
                        </button>
                        
                        <button type="button" class="btn" id="btn-clear-subjects" 
                                style="background: var(--accent)22; color: var(--accent); width: 100%; justify-content: center;">
                            üóëÔ∏è Usu≈Ñ wszystkie przedmioty
                        </button>
                        
                        <button type="button" class="btn" id="btn-clear-all-data" 
                                style="background: var(--accent); color: white; width: 100%; justify-content: center; font-weight: 700;">
                            ‚ö†Ô∏è USU≈É WSZYSTKIE DANE
                        </button>
                    </div>
                    
                    <p style="color: var(--text-secondary); margin-top: 15px; font-size: 13px; font-style: italic;">
                        üí° Wskaz√≥wka: Te funkcje sƒÖ przydatne podczas testowania aplikacji
                    </p>
                </div>

                <!-- Database Management -->
                <div class="card">
                    <h3>üóÉÔ∏è ZarzƒÖdzanie bazƒÖ danych</h3>
                    
                    <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 14px;">
                        Narzƒôdzia do diagnozy i naprawy problem√≥w z bazƒÖ danych.
                    </p>
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button type="button" class="btn" id="btn-check-database-health" 
                                style="background: var(--secondary)22; color: var(--secondary); width: 100%; justify-content: center;">
                            üìä Sprawd≈∫ stan bazy danych
                        </button>
                        
                        <button type="button" class="btn" id="btn-cleanup-orphaned-flashcards" 
                                style="background: var(--accent)22; color: var(--accent); width: 100%; justify-content: center;">
                            üßπ Wyczy≈õƒá osierocone fiszki
                        </button>
                    </div>
                    
                    <div id="database-status-display" style="margin-top: 15px; padding: 15px; background: var(--bg-hover); border-radius: 8px; border-left: 4px solid var(--primary); display: none;">
                        <div style="font-weight: 600; margin-bottom: 8px;">Status bazy danych:</div>
                        <div id="database-status-details" style="color: var(--text-secondary); font-size: 14px; white-space: pre-line;"></div>
                    </div>
                    
                    <p style="color: var(--text-secondary); margin-top: 15px; font-size: 13px; font-style: italic;">
                        üí° Osierocone fiszki to fiszki przypisane do usuniƒôtych wyk≈Çad√≥w
                    </p>
                </div>

                <!-- Save Button -->
                <div style="display: flex; justify-content: flex-end;">
                    <button class="btn btn-primary" id="btn-save-settings">
                        üíæ Zapisz ustawienia
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    
    <!-- Add Subject Modal -->
    <div id="modal-add-subject" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 20px;">üìö Dodaj nowy przedmiot</h3>
            <form id="form-add-subject">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Nazwa przedmiotu</label>
                    <input type="text" id="input-subject-name" class="search-box" required 
                           placeholder="np. Matematyka" style="width: 100%;" autofocus>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Kolor</label>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <!-- Pierwsza linia kolor√≥w -->
                        <button type="button" class="color-btn" data-color="#6366f1" style="background: #6366f1;" title="Indygo"></button>
                        <button type="button" class="color-btn" data-color="#8b5cf6" style="background: #8b5cf6;" title="Fioletowy"></button>
                        <button type="button" class="color-btn" data-color="#ec4899" style="background: #ec4899;" title="R√≥≈ºowy"></button>
                        <button type="button" class="color-btn" data-color="#10b981" style="background: #10b981;" title="Zielony"></button>
                        <button type="button" class="color-btn" data-color="#f59e0b" style="background: #f59e0b;" title="≈ª√≥≈Çty"></button>
                        <button type="button" class="color-btn active" data-color="#ef4444" style="background: #ef4444;" title="Czerwony"></button>
                        
                        <!-- Druga linia kolor√≥w -->
                        <button type="button" class="color-btn" data-color="#3b82f6" style="background: #3b82f6;" title="Niebieski"></button>
                        <button type="button" class="color-btn" data-color="#06b6d4" style="background: #06b6d4;" title="Turkusowy"></button>
                        <button type="button" class="color-btn" data-color="#84cc16" style="background: #84cc16;" title="Limonkowy"></button>
                        <button type="button" class="color-btn" data-color="#f97316" style="background: #f97316;" title="Pomara≈Ñczowy"></button>
                        <button type="button" class="color-btn" data-color="#a855f7" style="background: #a855f7;" title="Purpurowy"></button>
                        <button type="button" class="color-btn" data-color="#6b7280" style="background: #6b7280;" title="Szary"></button>
                        
                        <!-- Trzecia linia kolor√≥w -->
                        <button type="button" class="color-btn" data-color="#0ea5e9" style="background: #0ea5e9;" title="Jasny niebieski"></button>
                        <button type="button" class="color-btn" data-color="#14b8a6" style="background: #14b8a6;" title="Morski"></button>
                        <button type="button" class="color-btn" data-color="#65a30d" style="background: #65a30d;" title="Oliwkowy"></button>
                        <button type="button" class="color-btn" data-color="#dc2626" style="background: #dc2626;" title="Ciemny czerwony"></button>
                        <button type="button" class="color-btn" data-color="#7c3aed" style="background: #7c3aed;" title="Ciemny fioletowy"></button>
                        <button type="button" class="color-btn" data-color="#374151" style="background: #374151;" title="Ciemny szary"></button>
                    </div>
                    <input type="hidden" id="input-subject-color" value="#ef4444">
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn" onclick="closeModal('modal-add-subject')" 
                            style="background: var(--bg-card);">
                        Anuluj
                    </button>
                    <button type="submit" class="btn btn-primary">
                        ‚úÖ Dodaj przedmiot
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Flashcard Modal -->
    <div id="modal-add-flashcard" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 20px;">üé¥ Dodaj nowƒÖ fiszkƒô</h3>
            <form id="form-add-flashcard">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Przednia strona (pytanie)</label>
                    <textarea id="input-flashcard-front" class="search-box" rows="3" required 
                              placeholder="np. Co to jest rekurencja?" 
                              style="width: 100%; resize: vertical;" autofocus></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Tylna strona (odpowied≈∫)</label>
                    <textarea id="input-flashcard-back" class="search-box" rows="3" required 
                              placeholder="np. Funkcja kt√≥ra wywo≈Çuje samƒÖ siebie..." 
                              style="width: 100%; resize: vertical;"></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Przedmiot</label>
                    <select id="input-flashcard-subject" class="search-box" required style="width: 100%;">
                        <option value="">Wybierz przedmiot...</option>
                    </select>
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn" onclick="closeModal('modal-add-flashcard')" 
                            style="background: var(--bg-card);">
                        Anuluj
                    </button>
                    <button type="submit" class="btn btn-primary">
                        ‚úÖ Dodaj fiszkƒô
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Schedule Event Modal -->
    <div id="modal-add-schedule" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 20px;">üìÖ Dodaj zajƒôcia do planu</h3>
            <form id="form-add-schedule">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Przedmiot</label>
                    <select id="input-schedule-subject" class="search-box" required style="width: 100%;">
                        <option value="">Wybierz przedmiot...</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Nazwa zajƒôƒá (opcjonalnie)</label>
                    <input type="text" id="input-schedule-title" class="search-box" 
                           placeholder="np. Wyk≈Çad, ƒÜwiczenia, Laboratorium..." style="width: 100%;">
                    <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                        Je≈õli puste, u≈ºyta zostanie nazwa przedmiotu
                    </p>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Dzie≈Ñ tygodnia</label>
                    <select id="input-schedule-day" class="search-box" required style="width: 100%;">
                        <option value="1">Poniedzia≈Çek</option>
                        <option value="2">Wtorek</option>
                        <option value="3">≈öroda</option>
                        <option value="4">Czwartek</option>
                        <option value="5">PiƒÖtek</option>
                        <option value="6">Sobota</option>
                        <option value="0">Niedziela</option>
                    </select>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Godzina rozpoczƒôcia</label>
                        <input type="time" id="input-schedule-start" class="search-box" required style="width: 100%;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Godzina zako≈Ñczenia</label>
                        <input type="time" id="input-schedule-end" class="search-box" required style="width: 100%;">
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Miejsce (opcjonalnie)</label>
                    <input type="text" id="input-schedule-location" class="search-box" 
                           placeholder="np. Sala A101, Budynek Informatyki..." style="width: 100%;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Typ zajƒôƒá</label>
                    <select id="input-schedule-type" class="search-box" style="width: 100%;">
                        <option value="lecture">Wyk≈Çad</option>
                        <option value="exercise">ƒÜwiczenia</option>
                        <option value="lab">Laboratorium</option>
                        <option value="seminar">Seminarium</option>
                        <option value="exam">Egzamin</option>
                        <option value="other">Inne</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Notatki (opcjonalnie)</label>
                    <textarea id="input-schedule-notes" class="search-box" rows="3" 
                              placeholder="Dodatkowe informacje..." 
                              style="width: 100%; resize: vertical;"></textarea>
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn" onclick="closeModal('modal-add-schedule')" 
                            style="background: var(--bg-card);">
                        Anuluj
                    </button>
                    <button type="submit" class="btn btn-primary">
                        ‚úÖ Dodaj do planu
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Schedule Event Modal -->
    <div id="modal-edit-schedule" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 20px;">‚úèÔ∏è Edytuj zajƒôcia</h3>
            <form id="form-edit-schedule">
                <input type="hidden" id="edit-schedule-id">
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Przedmiot</label>
                    <select id="edit-schedule-subject" class="search-box" required style="width: 100%;">
                        <option value="">Wybierz przedmiot...</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Nazwa zajƒôƒá (opcjonalnie)</label>
                    <input type="text" id="edit-schedule-title" class="search-box" 
                           placeholder="np. Wyk≈Çad, ƒÜwiczenia, Laboratorium..." style="width: 100%;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Dzie≈Ñ tygodnia</label>
                    <select id="edit-schedule-day" class="search-box" required style="width: 100%;">
                        <option value="1">Poniedzia≈Çek</option>
                        <option value="2">Wtorek</option>
                        <option value="3">≈öroda</option>
                        <option value="4">Czwartek</option>
                        <option value="5">PiƒÖtek</option>
                        <option value="6">Sobota</option>
                        <option value="0">Niedziela</option>
                    </select>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Godzina rozpoczƒôcia</label>
                        <input type="time" id="edit-schedule-start" class="search-box" required style="width: 100%;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">Godzina zako≈Ñczenia</label>
                        <input type="time" id="edit-schedule-end" class="search-box" required style="width: 100%;">
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Miejsce (opcjonalnie)</label>
                    <input type="text" id="edit-schedule-location" class="search-box" 
                           placeholder="np. Sala A101, Budynek Informatyki..." style="width: 100%;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Typ zajƒôƒá</label>
                    <select id="edit-schedule-type" class="search-box" style="width: 100%;">
                        <option value="lecture">Wyk≈Çad</option>
                        <option value="exercise">ƒÜwiczenia</option>
                        <option value="lab">Laboratorium</option>
                        <option value="seminar">Seminarium</option>
                        <option value="exam">Egzamin</option>
                        <option value="other">Inne</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Notatki (opcjonalnie)</label>
                    <textarea id="edit-schedule-notes" class="search-box" rows="3" 
                              placeholder="Dodatkowe informacje..." 
                              style="width: 100%; resize: vertical;"></textarea>
                </div>

                <div style="display: flex; gap: 10px; justify-content: space-between; align-items: center;">
                    <button type="button" class="btn" 
                            onclick="if(confirm('Czy na pewno chcesz usunƒÖƒá te zajƒôcia?')) { deleteScheduleEvent(document.getElementById('edit-schedule-id').value); closeModal('modal-edit-schedule'); }"
                            style="background: var(--danger); color: white;">
                        üóëÔ∏è Usu≈Ñ
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button type="button" class="btn" onclick="closeModal('modal-edit-schedule')" 
                                style="background: var(--bg-card);">
                            Anuluj
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Zapisz zmiany
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Lecture Modal -->
    <div id="modal-edit-lecture" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px; color: var(--primary);">‚úèÔ∏è Edytuj wyk≈Çad</h2>
            <form id="form-edit-lecture">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Tytu≈Ç wyk≈Çadu</label>
                    <input type="text" id="input-edit-lecture-title" class="search-box" 
                           placeholder="Wpisz nowy tytu≈Ç wyk≈Çadu..." 
                           style="width: 100%; padding: 12px;" required>
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn" onclick="closeModal('modal-edit-lecture')" 
                            style="background: var(--bg-card);">
                        Anuluj
                    </button>
                    <button type="submit" class="btn btn-primary">
                        üíæ Zapisz zmiany
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Lecture Modal -->
    <div id="modal-delete-lecture" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px; color: #ef4444;">üóëÔ∏è Usu≈Ñ wyk≈Çad</h2>
            <div style="margin-bottom: 20px;">
                <p style="margin-bottom: 15px; font-size: 16px;">
                    Czy na pewno chcesz usunƒÖƒá wyk≈Çad <strong id="delete-lecture-title"></strong>?
                </p>
                <p style="color: var(--text-secondary); font-size: 14px;">
                    ‚ö†Ô∏è Ta operacja jest nieodwracalna. ZostanƒÖ usuniƒôte wszystkie notatki, fiszki i inne dane zwiƒÖzane z tym wyk≈Çadem.
                </p>
            </div>

            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button type="button" class="btn" onclick="closeModal('modal-delete-lecture')" 
                        style="background: var(--bg-card);">
                    Anuluj
                </button>
                <button type="button" class="btn" id="btn-confirm-delete-lecture"
                        style="background: #ef4444; color: white;">
                    üóëÔ∏è Usu≈Ñ wyk≈Çad
                </button>
            </div>
        </div>
    </div>

    <!-- Pomodoro Timer Widget -->
    <div id="pomodoro-widget" class="pomodoro-widget">
        <div class="pomodoro-header" id="pomodoro-header">
            <span>üçÖ Pomodoro</span>
            <button class="pomodoro-toggle" id="pomodoro-toggle">‚àí</button>
        </div>
        <div class="pomodoro-body" id="pomodoro-body">
            <div class="pomodoro-timer" id="pomodoro-timer">25:00</div>
            <div class="pomodoro-status" id="pomodoro-status">Praca</div>
            <div class="pomodoro-controls">
                <button class="pomodoro-btn" id="pomodoro-start">‚ñ∂Ô∏è</button>
                <button class="pomodoro-btn" id="pomodoro-pause" style="display: none;">‚è∏Ô∏è</button>
                <button class="pomodoro-btn" id="pomodoro-reset">üîÑ</button>
            </div>
            <div class="pomodoro-sessions">
                <span id="pomodoro-session-count">0</span> / 4 sesje
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts Help -->
    <div id="keyboard-help" class="keyboard-help" style="display: none;">
        <div class="keyboard-help-content">
            <h3>‚å®Ô∏è Skr√≥ty klawiszowe</h3>
            <div class="shortcut-list">
                <div class="shortcut-item"><kbd>Spacja</kbd> Przewr√≥ƒá fiszkƒô</div>
                <div class="shortcut-item"><kbd>1</kbd> Znowu (nie umiem)</div>
                <div class="shortcut-item"><kbd>2</kbd> Trudne</div>
                <div class="shortcut-item"><kbd>3</kbd> Dobre</div>
                <div class="shortcut-item"><kbd>4</kbd> ≈Åatwe</div>
                <div class="shortcut-item"><kbd>‚Üê</kbd> Poprzednia fiszka</div>
                <div class="shortcut-item"><kbd>‚Üí</kbd> Nastƒôpna fiszka</div>
                <div class="shortcut-item"><kbd>?</kbd> Poka≈º/ukryj pomoc</div>
                <div class="shortcut-item"><kbd>Esc</kbd> Zako≈Ñcz sesjƒô</div>
            </div>
            <button class="btn" onclick="document.getElementById('keyboard-help').style.display='none'">Zamknij</button>
        </div>
    </div>

    <!-- Custom Dialog Modal -->
    <div id="custom-dialog" class="custom-dialog-overlay">
        <div class="custom-dialog">
            <div class="custom-dialog-icon" id="dialog-icon">üîî</div>
            <h3 class="custom-dialog-title" id="dialog-title">Potwierdzenie</h3>
            <p class="custom-dialog-message" id="dialog-message">Czy na pewno chcesz kontynuowaƒá?</p>
            <div class="custom-dialog-details" id="dialog-details"></div>
            <div class="custom-dialog-buttons">
                <button class="custom-dialog-btn cancel" id="dialog-cancel">Anuluj</button>
                <button class="custom-dialog-btn confirm" id="dialog-confirm">Potwierd≈∫</button>
            </div>
        </div>
    </div>

    <!-- Main App Script -->
    <script type="module" src="./frontend/js/app.js?v=20260119-021"></script>
</body>
</html>
